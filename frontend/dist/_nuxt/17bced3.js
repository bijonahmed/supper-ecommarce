(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{329:function(t,e,n){var content=n(339);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(122).default)("6ea623a9",content,!0,{sourceMap:!1})},338:function(t,e,n){"use strict";n(329)},339:function(t,e,n){var o=n(121)((function(i){return i[1]}));o.push([t.i,".txtformat{text-align:center;-webkit-text-decoration:none;text-decoration:none;width:100%}",""]),o.locals={},t.exports=o},349:function(t,e,n){"use strict";n.r(e);n(45),n(73),n(52);var o,r=n(22),l=n(10),c=(n(93),n(37),n(14),n(327),n(328),n(31),n(38),n(29),n(76),n(71),n(316)),d={head:{title:"Cart"},data:function(){return{wallet_balance:0,shipfees_amt:0,itemSubtotal:0,categoryId:27,shippingFee:0,isChecked:!1,showWalletInfo:!1,couponCode:"",couponamt:"",apiResponseMessage:"",cart:[],pre_setting:"",itemCount:0,subtotal:0,loading:!0,percentageAmount:0,login:{email:"",password:""},invaliderror:"",notifmsg:"",errors:{}}},mounted:function(){this.setting(),this.loadingCart(),this.loadCart(),this.calculateTotalQuantity()},computed:{loggedIn:function(){return this.$auth.loggedIn}},methods:(o={loadTotalAmut:function(){var t=this.subtotal;localStorage.setItem("subtotal",JSON.stringify(t))},toggleWalletInfo:function(){this.showWalletInfo=!this.showWalletInfo,this.showWalletInfo&&this.getCartTotal()},checkCoupon:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$axios.post("/unauthenticate/check-coupon",{couponCode:t.couponCode});case 4:n=e.sent,t.couponamt=n.data.wallet_amount,t.couponResult=n.data.message,t.apiResponseMessage="",t.getCartTotal(),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",title:n.data.message}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?t.apiResponseMessage=e.t0.response.data.message:t.apiResponseMessage="An error occurred while processing your request.",Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"warning",title:e.t0.response.data.message});case 18:return e.prev=18,t.loading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,13,18,21]])})))()},setting:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$axios.get("/unauthenticate/setting");case 4:n=e.sent,t.pre_setting=n.data,t.wallet_balance=n.data.wallet_balance,t.shippingFee=n.data.shipping_fee,t.getCartTotal(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching sellingFast:",e.t0);case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))()},loadingCart:function(){var t=this;setTimeout((function(){t.loading=!1}),1e3)},userLogin:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={email:t.login.email,password:t.login.password},e.next=4,t.$axios.post("/auth/login",n);case 4:return o=e.sent,data=o.data,e.next=8,t.$auth.setUserToken(data.access_token);case 8:t.closePopup(),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",title:"Signed in successfully"}),t.$router.push("/payment"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),422===e.t0.response.status&&(t.errors=e.t0.response.data.errors,t.errorHandler(e.t0)),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},errorHandler:function(t){t.response&&t.response.data.errors&&t.response.data.errors.account?(console.log("error : "+t.response.data.errors.account[0]),this.invaliderror=t.response.data.errors.account[0]):console.log("An error occurred. Please try again later.")},orderConfirm:function(){var t=this;Swal.fire({title:"Are you sure?",text:"Do you want to submit an order?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){if(e.isConfirmed){var n=t.$axios.post("/order/submitOrder",{cart:t.cart});t.clearCart(),console.log(n.data);var o=localStorage.getItem("cart"),r=JSON.parse(o);c.a.$emit("updateCart",r),Swal.fire({title:"Success!",text:"Your order has been submited.",icon:"success"})}}))},clearCart:function(){var t=this;this.loading=!0,localStorage.removeItem("cart"),this.cart=[],this.calculateTotalQuantity(),setTimeout((function(){t.loading=!1}),2e3)},calculateTotalQuantity:function(){var t=localStorage.getItem("cart"),e=(JSON.parse(t)||[]).reduce((function(t,e){return t+parseInt(e.quantity,10)}),0);this.itemCount=e},calculateTotalPrice:function(t){if(t&&void 0!==t.quantity&&void 0!==t.price){var e=t.quantity*t.price;return"Tk.: ".concat(this.formatPrice(e))}return"Invalid item data"},formatPrice:function(t){return t.toFixed(2)},increaseQuantity:function(t){var e=localStorage.getItem("cart");if(e){var n=JSON.parse(e),o=n.findIndex((function(e){return e.id===t}));if(-1!==o){n[o].quantity=(parseInt(n[o].quantity,10)+1).toString();var r=this.cart.reduce((function(t,e){return t+parseInt(e.quantity,10)}),0);console.log("cart qty:"+r),console.log("cart qty:"+n[o].quantity),localStorage.setItem("cart",JSON.stringify(n)),this.loadCart(),c.a.$emit("updateCart",n),this.updateQuantity(n[o]),this.getCartTotal()}}},updateQuantity:function(t){var e=localStorage.getItem("cart");if(e){var n=JSON.parse(e),o=n.findIndex((function(e){return e.id===t.id}));-1!==o&&(n[o].quantity=parseInt(t.quantity),localStorage.setItem("cart",JSON.stringify(n)),this.loadCart())}},removefromCart:function(t){var e=this;this.loading=!0;var n=localStorage.getItem("cart");if(n){var o=JSON.parse(n).filter((function(e){return e.id!==t}));this.cart=this.getUniqueItems(o),localStorage.setItem("cart",JSON.stringify(o)),c.a.$emit("updateCart",this.cart),this.loadCart(),setTimeout((function(){e.loading=!1,e.getCartTotal()}),1e3)}}},Object(r.a)(o,"formatPrice",(function(t){return"number"==typeof t?t.toFixed(2):t})),Object(r.a)(o,"loadCart",(function(){this.calculateTotalQuantity();var t=localStorage.getItem("cart");if(t){var e=JSON.parse(t);this.cart=this.getUniqueItems(e)}})),Object(r.a)(o,"getUniqueItems",(function(t){return t.filter((function(t,e,n){return e===n.findIndex((function(e){return e.id===t.id}))}))})),Object(r.a)(o,"getCartTotal",(function(){var t=this,e=localStorage.getItem("cart");if(e){var n,o=JSON.parse(e).filter((function(t,e,n){return e===n.findIndex((function(e){return e.id===t.id}))})),r=0,l=[],c=0;o.reduce((function(t,e){return t+(e.price||0)*e.quantity}),0),r=o.reduce((function(t,e){return t+(e.quantity||0)}),0),console.log("Total Item quantity :---"+r),n=o.reduce((function(t,e){return t+(e.price||0)*e.quantity}),0),r=o.reduce((function(t,e){return t+(e.quantity||0)}),0),console.log("Total Item quantity: "+r),o.forEach((function(e){var n=e.id;if(27!==e.category_id&&!l.includes(n)){var o=t.pre_setting.shipping_fee;c+=parseFloat(o),l.push(n)}})),console.log("Total Shipping Fees:",c),this.itemSubtotal=n,this.shipfees_amt=c;var d,v,_=c;console.log("shipfees :---"+c),d=this.showWalletInfo?this.wallet_balance:0,v=""!==this.couponamt?parseFloat(this.couponamt):0;var m,f=this.pre_setting.vat_percentage;m=parseFloat(n)*f/100,this.percentageAmount=m,console.log("Formula totalprice: + ".concat(n,", percentage amount: + ").concat(m,", shipping fee: ").concat(_,", walletbalance: - ").concat(d," - coupon amount ").concat(v));var h=parseFloat(n)+parseFloat(m)+parseFloat(_)-parseFloat(d)-v;console.log("total result : "+h),this.subtotal="".concat(h),console.log("Total Price for Unique Items:",n),this.loadTotalAmut()}else console.error("No cart data found in local storage.")})),Object(r.a)(o,"loginpopup",(function(){$(".login_modal").fadeIn()})),Object(r.a)(o,"closePopup",(function(){$(".login_modal").fadeOut()})),o)},v=d,_=(n(338),n(36)),component=Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e("Navbar"),t._v(" "),e("section",{staticClass:"cart"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"cart_list mt-0"},[e("h6",{staticClass:"mb-0"},[t._v("Cart")]),t._v(" "),t.loading?e("span",[e("Loader")],1):t._e(),t._v(" "),t.loggedIn?t._e():e("p",{staticClass:"l_alrt"},[t._v("Please Login for Complete this process.")]),t._v(" "),e("ul",t._l(t.cart,(function(n){return e("li",{key:n.id},[e("div",{staticClass:"cart_item"},[e("div",{staticClass:"row",staticStyle:{width:"100%"}},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cart_left"},[e("div",{staticClass:"c_price",staticStyle:{position:"unset"}},[e("img",{staticClass:"img-fluid",attrs:{src:n.thumnail_img,loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"cart_title"},[e("h1",[t._v(t._s(n.name))]),t._v(" "),""!==n.addi_pname?e("ul",{staticClass:"mb-0",staticStyle:{margin:"0 !important"}},[e("li",[e("strong",{staticClass:"text-light me-2"},[t._v("+")]),t._v(" "),e("div",{staticClass:"t_img"},[e("img",{staticClass:"img-fluid",attrs:{src:n.addi_thumnail_img,loading:"lazy",alt:""}})]),t._v(" "),e("h6",[t._v(t._s(n.addi_pname))])])]):t._e(),t._v(" "),27!==n.category_id?e("div",[e("span",[t._v(t._s(n.quantity)+" x "+t._s(n.price))]),t._v("  \r\n                                                        "),e("span",[t._v("Size:"+t._s(n.size))]),t._v(" "),""!==n.addi_pname?e("div",[e("p",[t._v(t._s(t.calculateTotalPrice(n))),e("span",[t._v("+1 Free\r\n                                                                    Ticket")])]),t._v(" "),e("span",[t._v("You will get 1 tickets")])]):e("div",[e("p",[t._v(t._s(t.calculateTotalPrice(n)))])])]):e("div",[e("span",[t._v(t._s(n.quantity)+" x "+t._s(n.price))]),t._v(" "),e("p",[t._v(t._s(t.calculateTotalPrice(n)))])])])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"value_change"},[e("div",{staticClass:"value_box"},[e("button",{staticClass:"val_minus cart-qty-minus",attrs:{type:"button",value:"-"},on:{click:function(e){return t.removefromCart(n.id)}}},[e("i",{staticClass:"fa-solid fa-minus"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.quantity,expression:"item.quantity"}],staticClass:"val_input qty",attrs:{type:"text"},domProps:{value:n.quantity},on:{input:[function(e){e.target.composing||t.$set(n,"quantity",e.target.value)},function(e){return t.updateQuantity(n)}]}}),t._v(" "),e("button",{staticClass:"val_add cart-qty-plus",attrs:{type:"button",value:"+"},on:{click:function(e){return t.increaseQuantity(n.id)}}},[t._v("Add more")])])])])])])])})),0)])]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"offer_box"},[e("div",{staticClass:"checkboxes__item"},[e("label",{staticClass:"checkbox style-e"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{click:t.toggleWalletInfo,change:function(e){var n=t.isChecked,o=e.target,r=!!o.checked;if(Array.isArray(n)){var l=t._i(n,null);o.checked?l<0&&(t.isChecked=n.concat([null])):l>-1&&(t.isChecked=n.slice(0,l).concat(n.slice(l+1)))}else t.isChecked=r}}}),t._v(" "),e("div",{staticClass:"checkbox__checkmark"})])]),t._v(" "),e("div",[e("h6",[t._v(" Lottery Wallet")]),t._v(" "),e("h6",[t._v("available balance: "+t._s(t.pre_setting.currency)+" "+t._s(t.pre_setting.wallet_balance))])])]),t._v(" "),e("div",{staticClass:"promo_box offer_box"},[e("div",{staticClass:"input_box"},[e("form",{attrs:{action:""}},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],attrs:{type:"text",placeholder:"Promo Code"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn_apply",attrs:{type:"button"},on:{click:t.checkCoupon}},[t._v("Apply")])])])]),t._v(" "),e("div",{staticClass:"total_amt"},[e("ul",[e("li",[e("p",[t._v("Item Subtotal")]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" "+t._s(t.itemSubtotal))])]),t._v(" "),e("li",[t._m(0),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" "+t._s(t.shipfees_amt))])]),t._v(" "),e("li",[e("p",[t._v("VAT "),e("span",{staticStyle:{"font-size":"10px"}},[t._v("("+t._s(t.pre_setting.vat_percentage)+"%)")])]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" "+t._s(t.percentageAmount))])]),t._v(" "),t.showWalletInfo?e("li",[e("p",[t._v("Wallet Balance")]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" -"+t._s(t.pre_setting.wallet_balance))])]):t._e(),t._v(" "),""!==t.couponamt?e("li",[e("p",[t._v("Promo DCF")]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" - "+t._s(t.couponamt))])]):t._e(),t._v(" "),e("li",[t._m(1),t._v(" "),e("div",[e("h2",[t._v("Tk."+t._s(t.subtotal))])])])])]),t._v(" "),e("div",{staticClass:"promo_box offer_box"},[t.loggedIn?e("div",{staticClass:"w-100",staticStyle:{width:"100%"}},[e("nuxt-link",{staticClass:"btn_submit btn_checkout txtformat",staticStyle:{display:"block"},attrs:{to:"/payment"}},[t._v("Checkout")])],1):e("div",{staticStyle:{width:"100%"}},[e("button",{staticClass:"btn_submit btn_checkout txtformat",staticStyle:{display:"block"},on:{click:t.loginpopup}},[t._v("Checkout")])])])]),t._v(" "),e("div",{staticClass:"login_modal"},[e("div",{staticClass:"main_content"},[e("div",{staticClass:"log_regi"},[e("button",{staticClass:"cls_mdal",on:{click:t.closePopup}},[e("i",{staticClass:"fa-solid fa-x"})]),t._v(" "),e("div",{staticClass:"login_section"},[e("form",{staticClass:"forms-sample",attrs:{id:"formrest_login",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.userLogin()}}},[e("h5",{staticClass:"text-center"},[t._v("Login")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"input-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"input-field",attrs:{placeholder:"Email",type:"text"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}}),t._v(" "),e("label",{staticClass:"input-label",attrs:{for:"input-field"}},[t._v("Email ")]),t._v(" "),t.errors.email?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e(),t._v(" "),e("span",{staticClass:"input-highlight"})])]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"input-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"input-field",attrs:{placeholder:"Password",id:"password-field",type:"password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),e("label",{staticClass:"input-label",attrs:{for:"input-field"}},[t._v("Password ")]),t._v(" "),t.errors.password?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e(),t._v(" "),e("span",{staticClass:"input-highlight"}),t._v(" "),e("i",{staticClass:"fa-solid fa-eye toggle-password",attrs:{toggle:"#password-field"}})])]),t._v(" "),e("div",{staticClass:"row pe-0"},[t._m(2),t._v(" "),e("div",{staticClass:"col-6"},[e("div",{staticClass:"input-container"},[e("nuxt-link",{staticClass:"f_link",staticStyle:{"text-align":"right"},attrs:{to:"/register"}},[e("div",[e("small",{staticStyle:{color:"white"}},[t._v("Register")])])])],1)]),t._v(" "),t._m(3)])])])])])])])])])]),t._v(" "),e("Footer")],1)}),[function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v("Shipping")]),t._v(" "),e("span",{staticStyle:{"font-size":"10px",color:"red"}},[t._v("Condition Apply")])])},function(){var t=this,e=t._self._c;return e("div",[e("h6",[t._v("Total")]),t._v(" "),e("p",[t._v("Inclusive of VAT")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-6"},[t("div",{staticClass:"input-container"},[t("a",{staticClass:"f_link",attrs:{href:"javascript:"}},[t("small",[t("p",{staticStyle:{color:"white"}},[this._v("Forget Password?")])])])])])},function(){var t=this._self._c;return t("div",{staticClass:"col-12 px-0"},[t("div",{staticClass:"input-container text-end"},[t("input",{staticClass:"btn_submit w-100",attrs:{value:"Login",type:"submit"}})])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Navbar:n(320).default,Loader:n(323).default,Footer:n(315).default})}}]);