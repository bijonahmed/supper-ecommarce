(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{330:function(t,e,o){var content=o(344);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(122).default)("3345ec72",content,!0,{sourceMap:!1})},343:function(t,e,o){"use strict";o(330)},344:function(t,e,o){var n=o(121)((function(i){return i[1]}));n.push([t.i,".txtformat{text-align:center;-webkit-text-decoration:none;text-decoration:none;width:100%}",""]),n.locals={},t.exports=n},358:function(t,e,o){"use strict";o.r(e);o(45),o(73),o(51);var n,r=o(22),l=o(10),c=(o(93),o(37),o(14),o(328),o(329),o(31),o(38),o(29),o(76),o(71),o(316)),d={head:{title:"Cart"},data:function(){return{wallet_balance:0,walletBalance:0,shipfees_amt:0,itemSubtotal:0,categoryId:27,totalShippingFees:0,shippingFee:0,copon_amount:0,isChecked:!1,showWalletInfo:!1,couponCode:"",couponamt:"",apiResponseMessage:"",cart:[],pre_setting:"",itemCount:0,subtotal:0,loading:!0,percentageAmount:0,login:{email:"",password:""},showPassword:!1,invaliderror:"",notifmsg:"",errors:{}}},mounted:function(){this.setting(),this.loadingCart(),this.loadCart(),this.calculateTotalQuantity()},computed:{loggedIn:function(){return this.$auth.loggedIn}},methods:(n={showhidePassword:function(){this.showPassword=!this.showPassword},loadTotalAmut:function(){var t=this.itemSubtotal,e=this.totalShippingFees,o={itemsubtotal:t,subtotal:this.subtotal,percentageAmount:this.percentageAmount,totalShippingFees:e,walletBalance:this.walletBalance,copon_amount:this.copon_amount};localStorage.setItem("orderSummary",JSON.stringify(o))},toggleWalletInfo:function(){this.showWalletInfo=!this.showWalletInfo,this.showWalletInfo&&this.getCartTotal()},checkCoupon:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$axios.post("/unauthenticate/check-coupon",{couponCode:t.couponCode});case 4:o=e.sent,t.couponamt=o.data.wallet_amount,t.couponResult=o.data.message,t.apiResponseMessage="",t.getCartTotal(),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",title:o.data.message}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?t.apiResponseMessage=e.t0.response.data.message:t.apiResponseMessage="An error occurred while processing your request.",Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"warning",title:e.t0.response.data.message});case 18:return e.prev=18,t.loading=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,13,18,21]])})))()},setting:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$axios.get("/unauthenticate/setting");case 4:o=e.sent,t.pre_setting=o.data,t.wallet_balance=o.data.wallet_balance,t.shippingFee=o.data.shipping_fee,t.getCartTotal(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching sellingFast:",e.t0);case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))()},loadingCart:function(){var t=this;setTimeout((function(){t.loading=!1}),1e3)},userLogin:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var o,n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={email:t.login.email,password:t.login.password},e.next=4,t.$axios.post("/auth/login",o);case 4:return n=e.sent,data=n.data,e.next=8,t.$auth.setUserToken(data.access_token);case 8:t.closePopup(),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.onmouseenter=Swal.stopTimer,t.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",title:"Signed in successfully"}),t.$router.push("/payment"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),422===e.t0.response.status&&(t.errors=e.t0.response.data.errors,t.errorHandler(e.t0)),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},errorHandler:function(t){t.response&&t.response.data.errors&&t.response.data.errors.account?(console.log("error : "+t.response.data.errors.account[0]),this.invaliderror=t.response.data.errors.account[0]):console.log("An error occurred. Please try again later.")},orderConfirm:function(){var t=this;Swal.fire({title:"Are you sure?",text:"Do you want to submit an order?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(e){if(e.isConfirmed){var o=t.$axios.post("/order/submitOrder",{cart:t.cart});t.clearCart(),console.log(o.data);var n=localStorage.getItem("cart"),r=JSON.parse(n);c.a.$emit("updateCart",r),Swal.fire({title:"Success!",text:"Your order has been submited.",icon:"success"})}}))},clearCart:function(){var t=this;this.loading=!0,localStorage.removeItem("cart"),this.cart=[],this.calculateTotalQuantity(),setTimeout((function(){t.loading=!1}),2e3)},calculateTotalQuantity:function(){var t=localStorage.getItem("cart"),e=(JSON.parse(t)||[]).reduce((function(t,e){return t+parseInt(e.quantity,10)}),0);this.itemCount=e},calculateTotalPrice:function(t){if(t&&void 0!==t.quantity&&void 0!==t.price){var e=t.quantity*t.price;return"Tk.: ".concat(this.formatPrice(e))}return"Invalid item data"},formatPrice:function(t){return t.toFixed(2)},increaseQuantity:function(t){var e=localStorage.getItem("cart");if(e){var o=JSON.parse(e),n=o.findIndex((function(e){return e.id===t}));if(-1!==n){o[n].quantity=(parseInt(o[n].quantity,10)+1).toString();var r=this.cart.reduce((function(t,e){return t+parseInt(e.quantity,10)}),0);console.log("cart qty:"+r),console.log("cart qty:"+o[n].quantity),localStorage.setItem("cart",JSON.stringify(o)),this.loadCart(),c.a.$emit("updateCart",o),this.updateQuantity(o[n]),this.getCartTotal()}}},updateQuantity:function(t){var e=localStorage.getItem("cart");if(e){var o=JSON.parse(e),n=o.findIndex((function(e){return e.id===t.id}));-1!==n&&(o[n].quantity=parseInt(t.quantity),localStorage.setItem("cart",JSON.stringify(o)),this.loadCart())}},removefromCart:function(t){var e=this;this.loading=!0;var o=localStorage.getItem("cart");if(o){var n=JSON.parse(o).filter((function(e){return e.id!==t}));this.cart=this.getUniqueItems(n),localStorage.setItem("cart",JSON.stringify(n)),c.a.$emit("updateCart",this.cart),this.loadCart(),setTimeout((function(){e.loading=!1,e.getCartTotal()}),1e3)}}},Object(r.a)(n,"formatPrice",(function(t){return"number"==typeof t?t.toFixed(2):t})),Object(r.a)(n,"loadCart",(function(){this.calculateTotalQuantity();var t=localStorage.getItem("cart");if(t){var e=JSON.parse(t);this.cart=this.getUniqueItems(e)}})),Object(r.a)(n,"getUniqueItems",(function(t){return t.filter((function(t,e,o){return e===o.findIndex((function(e){return e.id===t.id}))}))})),Object(r.a)(n,"getCartTotal",(function(){var t=this,e=localStorage.getItem("cart");if(e){var o,n=JSON.parse(e).filter((function(t,e,o){return e===o.findIndex((function(e){return e.id===t.id}))})),r=0,l=[],c=0;n.reduce((function(t,e){return t+(e.price||0)*e.quantity}),0),r=n.reduce((function(t,e){return t+(e.quantity||0)}),0),console.log("Total Item quantity :---"+r),o=n.reduce((function(t,e){return t+(e.price||0)*e.quantity}),0),r=n.reduce((function(t,e){return t+(e.quantity||0)}),0),console.log("Total Item quantity: "+r),n.forEach((function(e){var o=e.id;if(27!==e.category_id&&!l.includes(o)){var n=t.pre_setting.shipping_fee;c+=parseFloat(n),l.push(o)}})),console.log("Total Shipping Fees:",c),this.itemSubtotal=o,this.shipfees_amt=c;var d,v,m=c;console.log("shipfees :---"+c),this.totalShippingFees=c,d=this.showWalletInfo?this.wallet_balance:0,v=""!==this.couponamt?parseFloat(this.couponamt):0;var _,f=this.pre_setting.vat_percentage;_=parseFloat(o)*f/100,this.percentageAmount=_,this.walletBalance=d,this.copon_amount=v,console.log("Formula totalprice: + ".concat(o,", percentage amount: + ").concat(_,", shipping fee: ").concat(m,", walletbalance: - ").concat(d," - coupon amount ").concat(v));var h=parseFloat(o)+parseFloat(_)+parseFloat(m)-parseFloat(d)-v;console.log("total result : "+h),this.subtotal="".concat(h),console.log("Total Price for Unique Items:",o),this.loadTotalAmut()}else console.error("No cart data found in local storage.")})),Object(r.a)(n,"loginpopup",(function(){$(".login_modal").fadeIn()})),Object(r.a)(n,"closePopup",(function(){$(".login_modal").fadeOut()})),n)},v=d,m=(o(343),o(36)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e("Navbar"),t._v(" "),e("section",{staticClass:"cart"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"cart_list mt-0"},[e("h6",{staticClass:"mb-0"},[t._v("Cart")]),t._v(" "),t.loading?e("span",[e("Loader")],1):t._e(),t._v(" "),t.loggedIn?t._e():e("p",{staticClass:"l_alrt"},[t._v("Please Login for Complete this process.")]),t._v(" "),e("ul",t._l(t.cart,(function(o){return e("li",{key:o.id},[e("div",{staticClass:"cart_item"},[e("div",{staticClass:"row",staticStyle:{width:"100%"}},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cart_left"},[e("div",{staticClass:"c_price",staticStyle:{position:"unset"}},[e("img",{staticClass:"img-fluid",attrs:{src:o.thumnail_img,loading:"lazy",alt:""}})]),t._v(" "),e("div",{staticClass:"cart_title"},[e("h1",[t._v(t._s(o.name))]),t._v(" "),""!==o.addi_pname?e("ul",{staticClass:"mb-0",staticStyle:{margin:"0 !important"}},[e("li",[e("strong",{staticClass:"text-light me-2"},[t._v("+")]),t._v(" "),e("div",{staticClass:"t_img"},[e("img",{staticClass:"img-fluid",attrs:{src:o.addi_thumnail_img,loading:"lazy",alt:""}})]),t._v(" "),e("h6",[t._v(t._s(o.addi_pname))])])]):t._e(),t._v(" "),27!==o.category_id?e("div",[e("span",[t._v(t._s(o.quantity)+" x "+t._s(o.price))]),t._v("  \r\n                                                        "),e("span",[t._v("Size:"+t._s(o.size))]),t._v(" "),""!==o.addi_pname?e("div",[e("p",[t._v(t._s(t.calculateTotalPrice(o))),e("span",[t._v("+1 Free\r\n                                                                    Ticket")])]),t._v(" "),e("span",[t._v("You will get 1 tickets")])]):e("div",[e("p",[t._v(t._s(t.calculateTotalPrice(o)))])])]):e("div",[e("span",[t._v(t._s(o.quantity)+" x "+t._s(o.price))]),t._v(" "),e("p",[t._v(t._s(t.calculateTotalPrice(o)))])])])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"value_change"},[e("div",{staticClass:"value_box"},[e("button",{staticClass:"val_minus cart-qty-minus",attrs:{type:"button",value:"-"},on:{click:function(e){return t.removefromCart(o.id)}}},[e("i",{staticClass:"fa-solid fa-minus"})]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.quantity,expression:"item.quantity"}],staticClass:"val_input qty",attrs:{type:"text"},domProps:{value:o.quantity},on:{input:[function(e){e.target.composing||t.$set(o,"quantity",e.target.value)},function(e){return t.updateQuantity(o)}]}}),t._v(" "),e("button",{staticClass:"val_add cart-qty-plus",attrs:{type:"button",value:"+"},on:{click:function(e){return t.increaseQuantity(o.id)}}},[t._v("Add more")])])])])])])])})),0)])]),t._v(" "),e("div",{staticClass:"col-md-3"},[t.loggedIn?e("div",{staticClass:"offer_box"},[e("div",{staticClass:"checkboxes__item"},[e("label",{staticClass:"checkbox style-e"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{click:t.toggleWalletInfo,change:function(e){var o=t.isChecked,n=e.target,r=!!n.checked;if(Array.isArray(o)){var l=t._i(o,null);n.checked?l<0&&(t.isChecked=o.concat([null])):l>-1&&(t.isChecked=o.slice(0,l).concat(o.slice(l+1)))}else t.isChecked=r}}}),t._v(" "),e("div",{staticClass:"checkbox__checkmark"})])]),t._v(" "),e("div",[e("h6",[t._v(" Lottery Wallet")]),t._v(" "),t.isChecked?e("h6",[t._v("available balance: "+t._s(t.pre_setting.currency)+" "+t._s(t.pre_setting.wallet_balance))]):t._e()])]):t._e(),t._v(" "),e("div",{staticClass:"promo_box offer_box"},[e("div",{staticClass:"input_box"},[e("form",{attrs:{action:""}},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],attrs:{type:"text",placeholder:"Promo Code"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn_apply",attrs:{type:"button"},on:{click:t.checkCoupon}},[t._v("Apply")])])])]),t._v(" "),e("div",{staticClass:"total_amt"},[e("ul",[e("li",[e("p",[t._v("Item Subtotal")]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" "+t._s(t.itemSubtotal))])]),t._v(" "),e("li",[t._m(0),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" "+t._s(t.shipfees_amt))])]),t._v(" "),e("li",[e("p",[t._v("VAT "),e("span",{staticStyle:{"font-size":"10px"}},[t._v("("+t._s(t.pre_setting.vat_percentage)+"%)")])]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" "+t._s(t.percentageAmount))])]),t._v(" "),t.showWalletInfo?e("li",[e("p",[t._v("Wallet Balance")]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" -"+t._s(t.pre_setting.wallet_balance))])]):t._e(),t._v(" "),""!==t.couponamt?e("li",[e("p",[t._v("Promo DCF")]),t._v(" "),e("p",[t._v(t._s(t.pre_setting.currency)+" - "+t._s(t.couponamt))])]):t._e(),t._v(" "),e("li",[t._m(1),t._v(" "),e("div",[e("h2",[t._v("Tk."+t._s(t.subtotal))])])])])]),t._v(" "),e("div",{staticClass:"promo_box offer_box"},[t.loggedIn?e("div",{staticClass:"w-100",staticStyle:{width:"100%"}},[e("nuxt-link",{staticClass:"btn_submit btn_checkout txtformat",staticStyle:{display:"block"},attrs:{to:"/payment"}},[t._v("Checkout")])],1):e("div",{staticStyle:{width:"100%"}},[e("button",{staticClass:"btn_submit btn_checkout txtformat",staticStyle:{display:"block"},on:{click:t.loginpopup}},[t._v("Checkout")])])])]),t._v(" "),e("div",{staticClass:"login_modal"},[e("div",{staticClass:"main_content"},[e("div",{staticClass:"log_regi"},[e("button",{staticClass:"cls_mdal",on:{click:t.closePopup}},[e("i",{staticClass:"fa-solid fa-x"})]),t._v(" "),e("div",{staticClass:"login_section"},[e("form",{staticClass:"forms-sample",attrs:{id:"formrest_login",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.userLogin()}}},[e("h5",{staticClass:"text-center"},[t._v("Login")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"input-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"input-field",attrs:{placeholder:"Email",type:"text"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}}),t._v(" "),e("label",{staticClass:"input-label",attrs:{for:"input-field"}},[t._v("Email ")]),t._v(" "),t.errors.email?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.email[0]))]):t._e(),t._v(" "),e("span",{staticClass:"input-highlight"})])]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"input-container"},["checkbox"==(t.showPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"input-field",attrs:{placeholder:"Password",id:"password-field",type:"checkbox"},domProps:{checked:Array.isArray(t.login.password)?t._i(t.login.password,null)>-1:t.login.password},on:{change:function(e){var o=t.login.password,n=e.target,r=!!n.checked;if(Array.isArray(o)){var l=t._i(o,null);n.checked?l<0&&t.$set(t.login,"password",o.concat([null])):l>-1&&t.$set(t.login,"password",o.slice(0,l).concat(o.slice(l+1)))}else t.$set(t.login,"password",r)}}}):"radio"==(t.showPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"input-field",attrs:{placeholder:"Password",id:"password-field",type:"radio"},domProps:{checked:t._q(t.login.password,null)},on:{change:function(e){return t.$set(t.login,"password",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"input-field",attrs:{placeholder:"Password",id:"password-field",type:t.showPassword?"text":"password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),e("label",{staticClass:"input-label",attrs:{for:"input-field"}},[t._v("Password ")]),t._v(" "),t.errors.password?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e(),t._v(" "),e("span",{staticClass:"input-highlight"}),t._v(" "),e("i",{staticClass:"fa-solid fa-eye toggle-password",attrs:{toggle:"#password-field"},on:{click:t.showhidePassword}})])]),t._v(" "),e("div",{staticClass:"row pe-0"},[t._m(2),t._v(" "),e("div",{staticClass:"col-6"},[e("div",{staticClass:"input-container"},[e("nuxt-link",{staticClass:"f_link",staticStyle:{"text-align":"right"},attrs:{to:"/register"}},[e("div",[e("small",{staticStyle:{color:"white"}},[t._v("Register")])])])],1)]),t._v(" "),t._m(3)])])])])])])])])])]),t._v(" "),e("Footer"),t._v(" "),e("MobileMenu")],1)}),[function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v("Shipping")]),t._v(" "),e("span",{staticStyle:{"font-size":"10px",color:"red"}},[t._v("Condition Apply")])])},function(){var t=this,e=t._self._c;return e("div",[e("h6",[t._v("Total")]),t._v(" "),e("p",[t._v("Inclusive of VAT")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-6"},[t("div",{staticClass:"input-container"},[t("a",{staticClass:"f_link d-none",attrs:{href:"javascript:"}},[t("small",[t("p",{staticStyle:{color:"white"}},[this._v("Forget Password?")])])])])])},function(){var t=this._self._c;return t("div",{staticClass:"col-12 px-0"},[t("div",{staticClass:"input-container text-end"},[t("input",{staticClass:"btn_submit w-100",attrs:{value:"Login",type:"submit"}})])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Navbar:o(318).default,Loader:o(323).default,Footer:o(315).default,MobileMenu:o(321).default})}}]);